<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>RANDOM Image Gallery</title>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body class="bg-gray-100 min-h-screen p-6">
    <div class="max-w-3xl mx-auto">
      <h1 class="text-3xl font-bold text-center mb-6">
        ðŸ“¸ RANDOM IMAGE GALLERY
      </h1>

      <div class="flex gap-2 mb-4">
        <input
          id="searchInput"
          type="text"
          placeholder="Search for photos..."
          class="flex-1 px-4 py-2 border rounded focus:outline-none"
        />
        <button
          onclick="searchPhotos()"
          class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700"
        >
          Search
        </button>
        <button
          onclick="getRandomPhotos()"
          class="bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700"
        >
          Random
        </button>
      </div>

      <div
        id="gallery"
        class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4"
      ></div>
    </div>

    <script>
      const accessKey = "HmBalgRTZzH2D72uK6Q9qZHaChfQOx1piku1khN2lGI";

      const gallery = document.getElementById("gallery");

      function showPhotos(photos) {
        gallery.innerHTML = "";
        photos.forEach((photo) => {
          const img = document.createElement("img");
          img.src = photo.urls.small;
          img.alt = photo.alt_description || "Unsplash Image";
          img.className = "rounded shadow";
          img.title = `Photo by ${photo.user.name}`;
          gallery.appendChild(img);
        });
      }

      async function searchPhotos() {
        const query = document.getElementById("searchInput").value;
        if (!query) return;

        const res = await fetch(
          `https://api.unsplash.com/search/photos?query=${query}&per_page=9&client_id=${accessKey}`
        );
        const data = await res.json();
        showPhotos(data.results);
      }

      async function getRandomPhotos() {
        const res = await fetch(
          `https://api.unsplash.com/photos/random?count=9&client_id=${accessKey}`
        );
        const data = await res.json();
        showPhotos(data);
      }

      // Optional: load some random photos on first load
      getRandomPhotos();
    </script>
  </body>
</html>
